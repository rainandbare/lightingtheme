var app={};Array.from||(Array.from=function(){var e=Object.prototype.toString,t=function(t){return"function"==typeof t||"[object Function]"===e.call(t)},o=function(e){var t=Number(e);return isNaN(t)?0:0!==t&&isFinite(t)?(t>0?1:-1)*Math.floor(Math.abs(t)):t},n=Math.pow(2,53)-1,i=function(e){var t=o(e);return Math.min(Math.max(t,0),n)};return function(e){var o=this,n=Object(e);if(null==e)throw new TypeError("Array.from requires an array-like object - not null or undefined");var s,l=arguments.length>1?arguments[1]:void 0;if(void 0!==l){if(!t(l))throw new TypeError("Array.from: when provided, the second argument must be a function");arguments.length>2&&(s=arguments[2])}for(var r,c=i(n.length),a=t(o)?Object(new o(c)):new Array(c),d=0;d<c;)r=n[d],a[d]=l?void 0===s?l(r,d):l.call(s,r,d):r,d+=1;return a.length=c,a}}()),$(function(){console.log("its working"),app.menuToggle(),app.windowResize(),app.frontPageSlider(),app.collectionSlider(),app.mobileMenu(),app.toggleRequestPrintCatalogue(),app.toggleProjectsDetail(),app.togglePhotoInfo(),app.videoLazyLoad(),app.sortCustomTaxonomies(),app.toggleInfo(),app.conditionalInputs(),app.frontPageArrows(),app.smoothScollToHash()}),app.width=window.innerWidth,app.windowResize=function(){$(window).resize(function(){app.frontPageArrows();var e=app.width;app.width=window.innerWidth,e>=891&&app.width<891&&($(".dropdown-content").show(),$(".fullscreen-nav").css("display","none")),e<=890&&app.width>890&&($(".dropdown-content").hide(),$(".fullscreen-nav").css("display","flex"),$("#nav-icon4").removeClass("open"))})},app.smoothScollToHash=function(){if(window.location.hash){$("html, body").animate({scrollTop:$(window.location.hash).offset().top+-250+"px"},1e3,"swing")}},app.menuToggle=function(){$(".toggleButton").mouseenter(function(){app.width>=891&&(clearTimeout($(this).data("timeoutId")),$(this).parent().children(".dropdown-content").stop(!0,!0).slideDown("slow"))}).mouseleave(function(){if(app.width>=891){var e=$(this),t=setTimeout(function(){e.parent().children(".dropdown-content").slideUp("slow")},100);e.data("timeoutId",t)}}),$(".dropdown-content").mouseenter(function(){app.width>=891&&clearTimeout($(this).parent().children(".toggleButton").data("timeoutId"))}).mouseleave(function(){if(app.width>=891){var e=$(this).parent().children(".toggleButton"),t=setTimeout(function(){e.parent().children(".dropdown-content").slideUp("slow")},100);e.data("timeoutId",t)}})},app.mobileMenu=function(){$("#mobile-menu-icon").on("click",function(){$(".fullscreen-nav").toggle(),$("#nav-icon4").toggleClass("open")})},app.frontPageSlider=function(){var e=$(".frontpage-slider").data("slideSpeed");$(".frontpage-slider").slick({slidesToShow:1,slidesToScroll:1,dots:!0,pauseOnFocus:!1,pauseOnHover:!1,speed:900,autoplay:!0,autoplaySpeed:e,responsive:[{breakpoint:890,settings:{arrows:!1}}]}),$(".frontpage-slider").on("beforeChange",function(e,t,o,n){$(".info-content").slideUp(),$(".info-icon").each(function(e){$(this).removeClass("toggled")})})},app.frontPageArrows=function(){if($("body").hasClass("home")){document.getElementsByClassName("slick-dots")[0].addEventListener("click",function(e){if(console.dir(e.target),"UL"===e.target.nodeName){var t=e.target.children[0],o=e.target.children[e.target.children.length-1];e.offsetX<t.offsetLeft&&e.offsetX>t.offsetLeft-50&&(console.log("previous pic"),$(".frontpage-slider").slick("slickGoTo",parseInt($(".frontpage-slider").slick("slickCurrentSlide"))-1)),e.offsetX>o.offsetLeft&&e.offsetX<o.offsetLeft+50&&(console.log("next pic"),$(".frontpage-slider").slick("slickGoTo",parseInt($(".frontpage-slider").slick("slickCurrentSlide"))+1))}})}},app.collectionSlider=function(){function e(){var e=$(".collection-slider .slick-current div").attr("id");$(".variation").each(function(t){$(this).data("finish")===e?$(this).addClass("selected-variation"):$(this).removeClass("selected-variation")})}$(".collection-slider").slick({dots:!0}),$(".project-thumbnails-slider").slick(),$(".variation").on("click",function(){if("none"!==$(this).data("finish")){const t=$(this).data("finish");console.log(t,"hi");var o=$("#"+t).parent().index();console.log(o),0!==o&&o--;$(".collection-slider")[0].slick.slickGoTo(parseInt(o)),e()}}),e(),$(".project-slider").on("init reInit beforeChange",function(e,t,o,n){$("#total").text(t.slideCount);var i=(o||0)+1;$("#current").text(i)}),$(".project-slider").slick({slidesToShow:2,slidesToScroll:1,centerMode:!0,variableWidth:!0,responsive:[{breakpoint:767,settings:"unslick"}]}),$(".project-slider-under2").on("init reInit beforeChange",function(e,t,o,n){$("#total").text(t.slideCount);var i=(o||0)+1;$("#current").text(i)}),$(".project-slider-under2").slick({dots:!1,responsive:[{breakpoint:767,settings:"unslick"}]})},app.toggleRequestPrintCatalogue=function(){$("button#requestcatalogue, button#requestcatalogueseemore").on("click",function(){console.log("hello"),$("#popup-requestcatalogue").fadeIn("fast"),$("#close-requestcatalogue").on("click",function(){$("#popup-requestcatalogue form").find("input[type=text], textarea").val(""),$("#popup-requestcatalogue").fadeOut("fast")})})},app.toggleProjectsDetail=function(){$(".project-thumbnails li").on("click",function(){function e(e){console.log(o,e),$("#projectTitle").append(o[e].title);var t=o[e].images,n=o[e].credits;$("#total").text(t.length),t.forEach(function(e){if(2===t.length&&$(window).width()>=767)var o='<div class="slide" style="background-image: url('+e+')"></div>';else var o="<div><img class='slide' src='"+e+"'/></div>";$(".collections-project-slider").append(o)}),t.length>2?$(".collections-project-slider").slick({slidesToShow:1,slidesToScroll:1,variableWidth:!0,centerMode:!1,arrows:!0,infinite:!0,responsive:[{breakpoint:767,settings:"unslick"}]}):2===t.length?$(".collections-project-slider").slick({dots:!1,responsive:[{breakpoint:767,settings:"unslick"}]}).addClass("project-slider-under2"):$(".collections-project-slider img").css("margin","5px auto");for(var i=Object.keys(n),s=i.length-1;s>=0;s--){const l="<li><h5>"+i[s]+"</h5><h6>"+n[i[s]]+"</h6</li>";$("section.project-credits ul").prepend(l)}$(".collections-project-slider").on("beforeChange",function(e,t,o,n){$("#current").text(n+1)}),$("#project-popup").fadeIn("fast",function(){$(".collections-project-slider").hasClass("slick-slider")&&$(".collections-project-slider").slick("setPosition")}),$("#close-project-popup").on("click",function(){$("#project-popup").fadeOut("fast",function(){$("#projectTitle").text(""),$("section.project-credits ul").html(""),t.length>1?($(".collections-project-slider").slick("unslick"),console.log("collections unslicked")):(t.length=2)&&$(".collections-project-slider").removeClass("project-slider-under2"),$(".collections-project-slider").html("").removeClass("project-slider-under2"),$("#current").text(1)})})}const t=parseInt($(this).data("project")),o=JSON.parse($("#projectJSON").text()),n=Object.keys(o);var i=n.indexOf(t+"");e(t),$("#nextProject").click(function(){if($("#projectTitle").text(""),$("section.project-credits ul").html(""),$(".collections-project-slider").hasClass("slick-initialized")&&$(".collections-project-slider").slick("unslick"),$(".collections-project-slider").html("").removeClass("project-slider-under2"),$("#current").text(1),i+1>=n.length)var t=0;else var t=i+1;var o=parseInt(n[t]);i=t,e(o)})})},app.togglePhotoInfo=function(){$(".info-icon").on("click",function(){$(this).toggleClass("toggled"),$(this).parent().find(".info-content").slideToggle()}),$(".info-content").on("click",function(){$(this).parent().find(".info-icon").removeClass("toggled"),$(this).slideUp()})},app.videoLazyLoad=function(){for(var e=document.querySelectorAll(".youtube"),t=0;t<e.length;t++){var o="https://img.youtube.com/vi/"+e[t].dataset.embed+"/sddefault.jpg",n=new Image;n.src=o,n.addEventListener("load",function(){e[t].style.backgroundImage="url("+n.src+")"}()),e[t].addEventListener("click",function(){console.log("clickec");var e=document.createElement("iframe");e.setAttribute("frameborder","0"),e.setAttribute("allowfullscreen",""),e.setAttribute("src","https://www.youtube.com/embed/"+this.dataset.embed+"?rel=0&showinfo=0&autoplay=1&controls=0"),this.innerHTML="",this.appendChild(e);const t=this;$(".frontpage-slider").slick("slickPause").css("z-index",10).on("beforeChange",function(e,o,n,i){t.innerHTML='<div class="play-button"></div>',$(this).css("z-index",0)})})}},app.sortCustomTaxonomies=function(){function e(e){for(var t=document.getElementById("sortArticles").children,o=t.length-1;o>=0;o--)t[o].classList.remove("hide","actually1column"),-1===Array.from(t[o].dataset.type.split(" ")).indexOf(e)?t[o].classList.add("hide"):"all"!=e&&t[o].classList.add("actually1column")}!function(t){this.dd=t,this.placeholder=this.dd.children("span"),this.opts=this.dd.find("ul.dropdown > li"),this.val="",this.index=-1;var o=this;o.dd.on("click",function(e){return $(this).toggleClass("active").find(".dropdown").slideToggle(),!1}),o.opts.on("click",function(){var t=$(this);o.val=t.text(),o.index=t.index(),o.placeholder.text("Filter - "+o.val),o.category=t.attr("id"),e(o.category)})}($("#sortCollections"))},app.toggleInfo=function(){$(".toggledown").on("click",function(e){"A"!==e.target.nodeName&&($(this).find(".see-more").slideToggle(),$(this).find(".circle").toggleClass("toggled"))});$(".suzette-toggle").prepend("<div class='circle'><div class='x'></div></div>"),$(".suzette-toggle h5").on("click",function(e){$(this).parent().find(".circle").toggleClass("toggled")})},app.conditionalInputs=function(){function e(e,t,o,n){e.on("change",function(){const e=$(t).val()===o;console.log(e),e?n.slideDown():n.slideUp()})}e($('select[name="project-type"]'),'select[name="project-type"] option:selected',"Other",$("#project-elaboration")),e($('input[name="checkboxes"]'),"input:checked","yes",$("#customization-elaboration"))};