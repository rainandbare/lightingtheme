var app={};$(function(){console.log("its working"),app.menuToggle(),app.windowResize(),app.frontPageSlider(),app.collectionSlider(),app.mobileMenu(),app.toggleRequestPrintCatalogue(),app.toggleProjectsDetail(),app.togglePhotoInfo(),app.videoLazyLoad(),app.sortCustomTaxonomies(),app.toggleInfo()}),app.width=window.innerWidth,app.windowResize=function(){$(window).resize(function(){var e=app.width;app.width=window.innerWidth,e>=891&&app.width<891&&($(".dropdown-content").show(),$(".fullscreen-nav").css("display","none")),e<=890&&app.width>890&&($(".dropdown-content").hide(),$(".fullscreen-nav").css("display","flex"),$("#nav-icon4").removeClass("open"))})},app.menuToggle=function(){$(".toggleButton").mouseenter(function(){app.width>=891&&(clearTimeout($(this).data("timeoutId")),$(this).parent().children(".dropdown-content").stop(!0,!0).slideDown("slow"))}).mouseleave(function(){if(app.width>=891){var e=$(this),t=setTimeout(function(){e.parent().children(".dropdown-content").slideUp("slow")},100);e.data("timeoutId",t)}}),$(".dropdown-content").mouseenter(function(){app.width>=891&&clearTimeout($(this).parent().children(".toggleButton").data("timeoutId"))}).mouseleave(function(){if(app.width>=891){var e=$(this).parent().children(".toggleButton"),t=setTimeout(function(){e.parent().children(".dropdown-content").slideUp("slow")},100);e.data("timeoutId",t)}})},app.mobileMenu=function(){$("#mobile-menu-icon").on("click",function(){$(".fullscreen-nav").toggle(),$("#nav-icon4").toggleClass("open")})},app.frontPageSlider=function(){$(".frontpage-slider").slick({slidesToShow:1,slidesToScroll:1,dots:!0,pauseOnFocus:!1,pauseOnHover:!1,speed:900,autoplay:!0,autoplaySpeed:9e3}),$(".frontpage-slider").on("afterChange",function(e,t,o,n){$(".info-content").slideUp()})},app.collectionSlider=function(){$(".collection-slider").slick({slidesToShow:1,slidesToScroll:1,dots:!0,variableWidth:!0}),$(".variation").on("click",function(){const e=$(this).data("finish"),t=$("img.slide#"+e).parent().index();console.log(t-1),$(".collection-slider")[0].slick.slickGoTo(parseInt(t-1))}),$(".project-slider").slick({slidesToShow:3,slidesToScroll:2,dots:!0,centerMode:!0,variableWidth:!0})},app.toggleRequestPrintCatalogue=function(){$("button#requestcatalogue, button#requestcatalogueseemore").on("click",function(){console.log("hello"),$("#popup-requestcatalogue").fadeIn("fast"),$("#close-requestcatalogue").on("click",function(){$("#popup-requestcatalogue form").find("input[type=text], textarea").val(""),$("#popup-requestcatalogue").fadeOut("fast")})})},app.toggleProjectsDetail=function(){$(".project-thumbnails li").on("click",function(){function e(e){$("#projectTitle").append(o[e].title);var t=o[e].images,n=o[e].credits;$("#total").text(t.length),t.forEach(function(e){const t="<div><img class='slide' src='"+e+"'/></div>";$(".collections-project-slider").append(t)}),t.length>1?$(".collections-project-slider").slick({variableWidth:!0,centerMode:!0}):$(".collections-project-slider img").css("margin","auto");for(var i=Object.keys(n),l=i.length-1;l>=0;l--){const c="<li><h5>"+i[l]+"</h5><h6>"+Object.values(n)[l]+"</h6</li>";$("section.project-credits ul").prepend(c)}$(".collections-project-slider").on("beforeChange",function(e,t,o,n){$("#current").text(n+1)}),$("#project-popup").fadeIn("fast"),$("#close-project-popup").on("click",function(){$("#project-popup").fadeOut("fast",function(){$("#projectTitle").text(""),$("section.project-credits ul").html(""),t.length>1&&$(".collections-project-slider").slick("unslick"),$(".collections-project-slider").html(""),$("#current").text(1)})})}const t=parseInt($(this).data("project")),o=JSON.parse($("#projectJSON").text()),n=Object.keys(o);var i=n.indexOf(t+"");e(t),$("#nextProject").click(function(){if($("#projectTitle").text(""),$("section.project-credits ul").html(""),$(".collections-project-slider").hasClass("slick-initialized")&&$(".collections-project-slider").slick("unslick"),$(".collections-project-slider").html(""),$("#current").text(1),i+1>=n.length)var t=0;else var t=i+1;var o=parseInt(n[t]);i=t,e(o)})})},app.togglePhotoInfo=function(){$(".info-icon").on("click",function(){$(this).parent().find(".info-content").slideToggle()})},app.videoLazyLoad=function(){for(var e=document.querySelectorAll(".youtube"),t=0;t<e.length;t++){var o="https://img.youtube.com/vi/"+e[t].dataset.embed+"/sddefault.jpg",n=new Image;n.src=o,n.addEventListener("load",function(){e[t].appendChild(n)}()),e[t].addEventListener("click",function(){var e=document.createElement("iframe");e.setAttribute("frameborder","0"),e.setAttribute("allowfullscreen",""),e.setAttribute("src","https://www.youtube.com/embed/"+this.dataset.embed+"?rel=0&showinfo=0&autoplay=1"),this.innerHTML="",this.appendChild(e),$(".frontpage-slider").slick("slickPause")})}},app.sortCustomTaxonomies=function(){function e(e){for(var t=document.getElementById("sortArticles").children,o=t.length-1;o>=0;o--)t[o].classList.remove("hide"),Array.from(t[o].dataset.type.split(" ")).includes(e)||(t[o].classList.add("hide"),console.log(t[o]))}!function(t){this.dd=t,this.placeholder=this.dd.children("span"),this.opts=this.dd.find("ul.dropdown > li"),this.val="",this.index=-1;var o=this;o.dd.on("click",function(e){return $(this).toggleClass("active"),!1}),o.opts.on("click",function(){var t=$(this);o.val=t.text(),o.index=t.index(),o.placeholder.text("Filter By: "+o.val),o.category=t.attr("id"),e(o.category)})}($("#sortCollections"))},app.toggleInfo=function(){$(".toggledown").on("click",function(){$(this).find(".see-more").slideToggle(),$(this).find(".circle-plus").toggleClass("opened")})};